name: Ping Render Backend

on:
  schedule:
    # Runs every 10 minutes to stay ahead of Render's 15-min sleep timer
    - cron: '*/10 * * * *'
  workflow_dispatch:  # Allows you to test it manually in the Actions tab

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Send keep-alive request
        run: |
          curl -L --silent --show-error \
          --retry 3 --retry-delay 10 \
          --max-time 60 \
          "${{ secrets.RENDER_BACKEND_URL }}/health" || true
